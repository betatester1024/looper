{
  "version": 3,
  "sources": ["../../src/server.ts"],
  "sourcesContent": ["const express = require('express')\nconst enableWs = require('express-ws');\nconst app = express()\n// require(\"dialog-polyfill\");\nconst crypto = require(\"crypto\");\nconst parse = require(\"co-body\");\nconst cors = require(\"cors\");\nconst fs = require('fs');\nconst Handlebars = require(\"handlebars\");\n // for generating secure random #'s\nimport {connectionSuccess} from './index';\nconst bodyParser = require('body-parser');\nconst cookieParser = require('cookie-parser')\nimport {jsDir, rootDir, port, frontendDir} from './consts'\nconst urlencodedParser = bodyParser.urlencoded({ extended: false }) \nvar RateLimit = require('express-rate-limit');\n\nasync function getMainClass(token:string) \n{\n  let res = await userRequest(token) as internalRequest; \n  if (res.status != \"SUCCESS\") return \"\";\n  else return res.data.darkQ?\"dark\":\"\";\n}\n\nfunction log(...args:any[]) {\n  args;\n}\nfunction userRequest(token:string) {\n  return {status:\"ERROR\", data:{error:\"This site does not support authentication.\"}, token:token};\n}\n\nfunction getToken(req:any) \n{\n  return req.cookies.accountID;\n}\n\ninterface failedRequest {\n  status:\"ERROR\",\n  data:{error:string, \n        [x: string]:any},\n  token:string\n} \ninterface successRequest {\n  status:\"SUCCESS\",\n  data:any,\n  token:string;\n}\ntype internalRequest = failedRequest | successRequest;\n\nasync function sendFile(res:any, token:string, filePath:string) \n{\n  // console.log(filePath.replace(/(^(.+)\\/|\\.html)/g, \"\"));\n  let user = await userRequest(token) as internalRequest;\n  let suspensionFile = {suspended:false};\n  if (user.status != \"SUCCESS\") {\n    user.data.perms = 0;\n  }\n  if (suspensionFile && \n      suspensionFile.suspended && user.data.perms < 2) \n  {\n    res.sendFile(frontendDir+\"/403.html\");\n    return;\n  }\n  if (!filePath.match(/\\.html$/)) {\n    // console.log(filePath);\n    res.sendFile(filePath); \n    return;\n  }\n  else {\n    fs.readFile(filePath, 'utf8', async (err:any, fileContents:string) => {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      const template = Handlebars.compile(fileContents);\n      // console.log(\"is html\");\n      res.set('Content-Type', 'text/html')\n      res.send(Buffer.from(template({\n        mainClass: await getMainClass(token),\n        globalTags:`\n          <link rel=\"icon\" type=\"image/x-icon\" href=\"/psvficon.png\">\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n          <meta property=\"og:image\" content=\"https:${process.env.domain}/psvficon.png\">\n          <meta property=\"og:description\" content=\"Welcome to the Pawservation Foundation.\">\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200\" />\n          <link href=\"https://fonts.googleapis.com/css2?family=Anek+Gurmukhi:wght@100..800&display=swap\" rel=\"stylesheet\">\n          <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@100;400;500;600;700&display=swap\" rel=\"stylesheet\">\n          <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n          <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n          <link rel=\"stylesheet\" href=\"/globalformat.css\">\n        `\n      })));\n      // console.log(data);\n    });\n  }\n} // sendFile\n\nexport async function initServer() {\n\n\n  // const wss = new WebSocketServer({server:app, path: \"/ws\"});\n\n  // wss.on('connection', (ws:any)=>{\n  //   ws.on('error', console.log);\n  //   ws.on('message', (data:any)=>{\n  //     console.log('received: %s', data);\n  //   });\n  //   console.log(\"connected!\");\n  //   ws.send('something');\n  // });\n  enableWs(app);\n  var limiter = RateLimit({\n    windowMs: 10*1000, // 10 second\n    max: 50,\n    message: tooManyRequests(),\n    statusCode: 429, // 429 status = Too Many Requests (RFC 6585)\n  });\n  app.use(limiter);\n  app.set('trust proxy', 1)\n  app.get('/ip', (request:any, response:any) => response.send(request.ip))\n\n  let corsOptions = {\n    credentials: true, \n    origin: true,\n    // allowedHeaders: true\n  };\n  app.use(cors(corsOptions));\n  app.use(new cookieParser());\n  // app.enable('trust proxy');\n\n  app.get('/', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/index.html');\n    \n  })\n\n\n  // else sendFile(res, getToken(req), frontendDir+'/supportIndex.html');\n\n\n  app.get(\"*/nodemodules/*\", (req:any, res:any) => {\n    // no long requests!\n    if (req.url.length > 500) sendFile(res, getToken(req), frontendDir+\"/404.html\");\n    else res.sendFile(rootDir+\"node_modules\"+req.url.replace(/.*nodemodules/, \"\"));\n    \n  })\n\n\n\n  app.get('*/favicon.ico', (req:any, res:any)=> {\n    sendFile(res, getToken(req), rootDir+'favicon.ico')\n    \n  })\n\n  app.get('*/icon.png', (req:any, res:any)=> {\n    sendFile(res, getToken(req), rootDir+'temp.png')\n  })  \n\n  // app.get('/game.js', (req:any, res:any) => {\n  //   sendFile(res, getToken(req), frontendDir+\"game.js\");\n  //   \n  // })\n\n  // app.get('*/utils.js', (req:any, res:any) => {\n  //   res.sendFile(jsDir+\"utils.js\");\n  //   \n  // })\n\n  app.get('*.svg', (req:any, res:any) => {\n    const date = new Date();\n    date.setFullYear(date.getFullYear() + 1);\n    res.setHeader(\"expires\", date.toUTCString());\n    res.setHeader(\"cache-control\", \"public, max-age=31536000, immutable\");\n    res.sendFile(frontendDir+req.url);\n    \n  })\n\n\n\n\n  app.get('/*.js*', (req:any, res:any) => {\n    res.sendFile(jsDir+req.url);\n    \n  })\n\n\n  app.get('/*.ts', (req:any, res:any) => {\n    res.sendFile(jsDir+req.url);\n    \n  })\n\n  app.get('*/globalformat.css', (_req:any, res:any) => {\n    res.sendFile(frontendDir+\"globalformat.css\");\n    \n  })\n\n\n  app.get('/*.css', (req:any, res:any) => {\n    res.sendFile(frontendDir+req.url);\n    \n  })\n\n  app.get('/*', (req:any, res:any) => {\n    let requrl = req.url.match(\"([^?]*)\\\\??.*\")[1]; // do not care about the stuff after the ?\n    let idx = validPages.findIndex((obj)=>obj.toLowerCase()==requrl.toLowerCase());\n    if (idx>=0) sendFile(res, getToken(req), frontendDir+validPages[idx]+\".html\");\n    else {\n      res.status(404);\n      sendFile(res, getToken(req), frontendDir+\"404.html\");\n    }\n    \n  })\n\n\n  const banList:string[]= [];\n  app.post('/server', urlencodedParser, async (req:any, res:any) => {try {\n    \n    if (req.headers['content-length'] > 60000) {\n      res.set(\"Connection\", \"close\");\n      res.status(413).end();\n      return;\n    }\n    let addr = req.ip; \n    // console.log(addr);\n    if (banList.indexOf(addr) >= 0) \n    {\n      res.end(JSON.stringify({status:\"ERROR\", data:{error: \"IP banned, contact BetaOS if this was done in error.\"}}));\n      return;\n    }\n    var body = await parse.json(req);\n    if (!body) res.end(JSON.stringify({status:\"ERROR\", data:{error:\"No command string\"}}));\n    // let cookiematch = req.cookies.match(\"accountID=[0-9a-zA-Z\\\\-]\");\n    // COOKIE ACCEPTANCE DIALOG \n    if (body.action == \"cookieRequest\") {\n      res.end(JSON.stringify({data:req.cookies.acceptedQ??false}))\n      return;\n    }\n    if (body.action == \"acceptCookies\") {\n      res.cookie('acceptedQ', true, {httpOnly: true, secure:true, sameSite:\"None\"})\n      res.end(JSON.stringify(\"\"));\n      return;\n    }\n    if (body.action == \"accountID\") {\n      if (req.cookies.accountID) \n        res.end(JSON.stringify({status:\"SUCCESS\", data:{id:req.cookies.accountID}}));\n      else \n        res.end(JSON.stringify({status:\"ERROR\", data:{error:\"Not logged in\"}}));\n      return;\n    }\n    if (body.action == \"setAccountID\") {\n      res.cookie('accountID', body.data.id, {httpOnly: true, secure:true, sameSite:\"None\"})\n      res.end(JSON.stringify({status:\"SUCCESS\", data:null}));\n      return;\n    }\n\n    if (!req.cookies.sessionID) res.cookie('sessionID', crypto.randomUUID(), {httpOnly:true, secure:true, sameSite:\"None\"});\n    //////////////////////////\n\n    makeRequest(body.action, req.cookies.accountID, body.data, req.cookies.sessionID)\n    .then((ret:{status:string, data:any, token:string})=>{\n      /*if(body.action==\"login\"||body.action == \"logout\" ||\n        body.action == \"delAcc\" || body.action == \"signup\")*/\n      if (ignoreLog.indexOf(body.action)>=0){}\n      else if (ret.status==\"SUCCESS\") {\n        log(\"[\"+addr+\"]: \"+body.action+\", RESP:\"+JSON.stringify(ret.data));\n      }\n      else log(\"F[\"+addr+\"]: \"+body.action+\", ERR:\"+ret.data.error);\n      res.cookie('accountID', ret.token??\"\", {httpOnly: true, secure:true, sameSite:\"None\", maxAge:9e12});\n      res.end(JSON.stringify({status:ret.status, data:ret.data}));\n    });\n  } catch(e) {}});\n\n  if (process.env.localhost) \n    app.listen(port, 'localhost', function() {\n      console.log(\"Listening\");\n    });\n  else app.listen(port);\n}\n\nasync function makeRequest(action:string|null, token:string, _data:any|null, _sessID:string) {\n  if (!connectionSuccess) {\n    return {status:\"ERROR\", data:{error:\"Database connection failure\"}, token:token};\n  }\n  // console.log(\"request made\");\n  try {\n    let obj:any = null;\n    switch (action) {\n      case 'test':\n        obj = {status:\"SUCCESS\", data:{abc:\"def\", def:5}, token:token};\n        break;\n      case 'startupData':\n        obj = {status:\"SUCCESS\", data:{\n          branch: process.env.branch,\n          domain:process.env.domain,\n          unstableDomain:process.env.unstableDomain,\n        }, token:token};\n        break;\n      default:\n        obj = {status:\"ERROR\", data:{error: \"Unknown command string!\"}, token:token};\n    }\n    // console.log(obj);\n    return obj;\n  } catch (e:any) {\n    console.log(\"Error:\", e);\n    return {status:\"ERROR\", data:{error:\"Error, see console\"}, token:token};\n  }\n}\n\nfunction tooManyRequests() {\n  return `<!DOCTYPE html>\n<html class=\"{{mainClass}}\">\n  <head>\n    <title>Error 429</title>\n    <script>\n    ${fs.readFileSync(jsDir+\"utils.js\")}\n    </script>\n    <meta name=\"viewport\" content=\"width=device-width\">\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200\" />\n    <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@100;400;500;600;700&display=swap\" rel=\"stylesheet\">\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <style>\n      ${fs.readFileSync(frontendDir+\"/globalformat.css\")}\n    </style>\n  </head>\n  <body onload=\"globalOnload(()=>{}, true)\">\n    <div class=\"main_content\">\n    <header>\n      <h2>Error: Too many requests</h2>\n      <hr class=\"redrounded\">\n    </header>\n    <p class=\"fsmed\"><span class=\"material-symbols-outlined red nohover nooutline\">error</span>\n    Try <button class=\"btn fssml\" onclick=\"location.reload()\">\n    <span class=\"material-symbols-outlined\">refresh</span>\n    refreshing.<div class=\"anim\"></div></button></p>\n    </div>\n  </body>\n</html>`;\n}\n\nconst validPages = [\"/commands\", '/contact', '/EEdit', '/todo', '/status', '/logout', '/signup', \n                    '/config', '/admin', '/docs', '/login', '/syslog', '/aboutme', '/mailertest',\n                    \"/timer\", \"/newpaste\", \"/pastesearch\", '/clickit', '/capsdle', '/sweepthatmine',\n                   \"/stopwatch\", \"/testbed\", '/credits', '/atomicmoose', '/issuetracker', '/graphIt', \n                    '/betterselect', '/redirect', '/betterselect.js', \"/minimalLogin\", \"/minimalSignup\",\n                    \"/8192\", \"/imgedit\", \"/leaderboard\", \"/eval\", \"/smallsubway\"];\n\nconst ignoreLog = [\"getEE\", \"userRequest\", 'getLogs', 'loadLogs', 'visits', \n                   'roomRequest', 'sendMsg', 'clickIt', 'leaderboard',\n                  'findPaste', 'startupData'];"],
  "mappings": "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",
  "names": []
}
